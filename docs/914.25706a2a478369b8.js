"use strict";(self.webpackChunkfood_app=self.webpackChunkfood_app||[]).push([[914],{2914:(S,p,i)=>{i.r(p),i.d(p,{CategoriesModule:()=>D});var c=i(177),C=i(7062),g=i(5351),t=i(7705),u=i(9213),d=i(9417);function b(a,f){if(1&a){const e=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onCloseDialog())}),t.EFF(1," Save "),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("mat-dialog-close",e.data)}}let l=(()=>{class a{constructor(e,n){this.data=e,this.dialogRef=n}onCloseDialog(){this.dialogRef.close({name:this.data.name})}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(g.Vh),t.rXU(g.CP))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-edit-add-componanet"]],decls:13,vars:3,consts:[[1,""],[1,"container"],[1,"row","p-4","h-100"],[1,"hed","d-flex","justify-content-between","align-items-center"],["mat-dialog-close",""],[1,"fa-regular","fa-circle-xmark","text-danger"],[1,"w-100","p-4"],["type","text","placeholder","Category Name","name","categoryName",1,"w-100",3,"disabled","ngModel","ngModelChange"],[1,"row","p-0"],[1,"col-4","text-end","p-0","w-100"],["class","btn btn-success","name","categoryName",3,"mat-dialog-close","click",4,"ngIf"],["name","categoryName",1,"btn","btn-success",3,"mat-dialog-close","click"]],template:function(n,o){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),t.EFF(5,"Add Category"),t.k0s(),t.j41(6,"mat-icon",4),t.nrm(7,"i",5),t.k0s()(),t.j41(8,"div",6)(9,"input",7),t.bIt("ngModelChange",function(s){return o.data.name=s}),t.k0s()(),t.j41(10,"div",8)(11,"div",9),t.DNE(12,b,2,1,"button",10),t.k0s()()()()()),2&n&&(t.R7$(9),t.Y8G("disabled",o.data.isView)("ngModel",o.data.name),t.R7$(3),t.Y8G("ngIf",!o.data.isView))},dependencies:[c.bT,u.An,g.tx,d.me,d.BC,d.vS],styles:["section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:#f3f3f3;padding:10px;border-radius:20px}section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}section[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:30px;width:20px}section[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}"]})}}return a})();var y=i(3205),h=i(1626);let v=(()=>{class a{constructor(e){this._HttpClient=e,this.baseURL="https://upskilling-egypt.com:3006/api/v1/"}onGettingCategories(e){const n=localStorage.getItem("userToken"),o=new h.Lr({Authorization:`Bearer ${n}`});return this._HttpClient.get(`${this.baseURL}Category/`,{params:{pageSize:e.pageSize,pageNumber:e.pageNumber},headers:o})}onAddCategory(e){return this._HttpClient.post("Category/",e)}onUpdateCategory(e,n){return this._HttpClient.put(`Category/${e}`,{name:n})}onDeleteCategory(e){return this._HttpClient.delete(`Category/${e}`)}static{this.\u0275fac=function(n){return new(n||a)(t.KVO(h.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var F=i(5794),m=i(9115),M=i(8834),_=i(6440);function P(a,f){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"td")(10,"button",17)(11,"mat-icon"),t.EFF(12,"more_vert"),t.k0s()(),t.j41(13,"mat-menu",null,18)(15,"button",19),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.onViewDialog(r))}),t.j41(16,"mat-icon",20),t.EFF(17,"visibility"),t.k0s(),t.j41(18,"span"),t.EFF(19,"View"),t.k0s()(),t.j41(20,"button",19),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.onEditDialog(r))}),t.j41(21,"mat-icon",20),t.EFF(22,"edit_square"),t.k0s(),t.j41(23,"span"),t.EFF(24,"Edit"),t.k0s()(),t.j41(25,"button",19),t.bIt("click",function(){const r=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.onDeleteDialog(r))}),t.j41(26,"mat-icon",20),t.EFF(27,"delete"),t.k0s(),t.j41(28,"span"),t.EFF(29,"Delete"),t.k0s()()()()()}if(2&a){const e=f.$implicit,n=t.sdS(14);t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(t.i5U(5,4,e.creationDate,"dd/MM/yyyy hh:mm a")),t.R7$(3),t.JRh(t.i5U(8,7,e.modificationDate,"dd/MM/yyyy hh:mm a")),t.R7$(3),t.Y8G("matMenuTriggerFor",n)}}const j=function(){return[5,10,25]},O=[{path:"",component:(()=>{class a{constructor(e,n,o){this._CategoriesService=e,this.dialog=n,this._ToastrService=o,this.tabelParams={pageSize:10,pageNumber:1},this.onGetgCategoriesDate()}onGetgCategoriesDate(){this._CategoriesService.onGettingCategories(this.tabelParams).subscribe(e=>{this.categoriesList=e.data,this.tabelRes=e,this.tabelParams={pageNumber:e.pageNumber,pageSize:e.pageSize}})}onOpenAddDialog(){this.dialog.open(l,{data:{name:""}}).afterClosed().subscribe(n=>{n&&this.onAddCatrgory(n.name)})}onAddCatrgory(e){this._CategoriesService.onAddCategory({name:e}).subscribe({next:o=>{this._ToastrService.success(`Category ${o.name} Added Successfully`)},error:o=>{this._ToastrService.error(o.error.message," Error")},complete:()=>{this.onGetgCategoriesDate()}})}onEditDialog(e){this.dialog.open(l,{data:{name:e.name}}).afterClosed().subscribe(o=>{this.onEditCategory(e.id,o.name)})}onEditCategory(e,n){this._CategoriesService.onUpdateCategory(e,n).subscribe({next:o=>{this._ToastrService.success(`Category ${o.name} Updated Successfully`)},error:o=>{this._ToastrService.error(o.error.message," Error")},complete:()=>{this.onGetgCategoriesDate()}})}onViewDialog(e){this.dialog.open(l,{data:{name:e.name,isView:!0}})}onDeleteDialog(e){this.dialog.open(y.c,{data:{name:e.name}}).afterClosed().subscribe(o=>{o&&this.onDeleteCategory(e.id)})}onDeleteCategory(e){this._CategoriesService.onDeleteCategory(e).subscribe({next:n=>{this._ToastrService.success("Category Deleted Successfully")},error:n=>{this._ToastrService.error(`Category ${n.error.message}`," Error")},complete:()=>{this.onGetgCategoriesDate()}})}onPageChange(e){this.tabelParams={pageSize:e.pageSize,pageNumber:e.pageIndex+1},this.onGetgCategoriesDate()}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(v),t.rXU(g.bZ),t.rXU(F.tw))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-list-categories"]],decls:41,vars:6,consts:[[1,"bage-title"],[1,"container"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-8","p-4"],[1,""],[1,"col-md-4"],[1,"text-end"],["src","../../../../../../../assets/imags/eating-avatar.svg","alt",""],[1,"nav","d-flex","align-items-center","justify-content-between"],[1,"one"],[1,"m-0"],[1,"two"],[1,"primary-but",3,"click"],[1,"w-100","table","table-striped"],[1,"table-secondary"],[4,"ngFor","ngForOf"],["aria-label","Select page",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[2,"color","#4aa35a"]],template:function(n,o){1&n&&(t.j41(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1"),t.EFF(7,"Categories "),t.j41(8,"span"),t.EFF(9,"Item"),t.k0s()(),t.j41(10,"p"),t.EFF(11," You can now add your items that any user can order it "),t.nrm(12,"br"),t.EFF(13," from the Application and you can edit "),t.k0s()()(),t.j41(14,"div",5)(15,"div",6),t.nrm(16,"img",7),t.k0s()()()()(),t.j41(17,"div")(18,"div",8)(19,"div",9)(20,"h4",10),t.EFF(21,"Categories Table Details"),t.k0s(),t.j41(22,"p",10),t.EFF(23,"You can check all details"),t.k0s()(),t.j41(24,"div",11)(25,"button",12),t.bIt("click",function(){return o.onOpenAddDialog()}),t.EFF(26,"Add New Category"),t.k0s()()(),t.j41(27,"table",13)(28,"thead",14)(29,"tr")(30,"th"),t.EFF(31,"Name"),t.k0s(),t.j41(32,"th"),t.EFF(33,"Creation Date"),t.k0s(),t.j41(34,"th"),t.EFF(35,"Modification Date"),t.k0s(),t.j41(36,"th"),t.EFF(37,"Action"),t.k0s()()(),t.j41(38,"tbody"),t.DNE(39,P,30,10,"tr",15),t.k0s()(),t.j41(40,"mat-paginator",16),t.bIt("page",function(s){return o.onPageChange(s)}),t.k0s()()()),2&n&&(t.R7$(39),t.Y8G("ngForOf",o.categoriesList),t.R7$(1),t.Y8G("length",null==o.tabelRes?null:o.tabelRes.totalNumberOfRecords)("pageSize",o.tabelParams.pageSize)("pageIndex",o.tabelParams.pageNumber-1)("pageSizeOptions",t.lJ4(5,j)))},dependencies:[c.Sq,u.An,m.kk,m.fb,m.Cp,M.iY,_.iy,c.vh],styles:["section[_ngcontent-%COMP%]   .bage-title[_ngcontent-%COMP%]{background-image:url(header-bg-svg.e7cd2c7a9e952177.svg);background-repeat:no-repeat;background-color:#009247;border-radius:15px;color:#fff}section[_ngcontent-%COMP%]   .bage-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;font-weight:200;color:#ffffffae}section[_ngcontent-%COMP%]   .bage-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffde}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin:.5rem 0}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#222d}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#acacac}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:8px;padding:.5rem 1rem}section[_ngcontent-%COMP%]   button.primary-but[_ngcontent-%COMP%]{background-color:#4aa35a;color:#fff;text-align:center}section[_ngcontent-%COMP%]   button.primary-but[_ngcontent-%COMP%]:hover{opacity:.7}section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;border-radius:15px;overflow:hidden}section[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px;border-style:none}"]})}}return a})()}];let k=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[C.iI.forChild(O),C.iI]})}}return a})();var E=i(935);let D=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[c.MD,k,E.G]})}}return a})()}}]);