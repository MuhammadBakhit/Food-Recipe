"use strict";(self.webpackChunkfood_app=self.webpackChunkfood_app||[]).push([[471],{2471:(M,p,a)=>{a.r(p),a.d(p,{ChangePasswordModule:()=>F});var u=a(177),c=a(7062),t=a(9417),s=a(7705),m=a(1626);let f=(()=>{class e{constructor(r){this._HttpClient=r}changePassword(r){return this._HttpClient.put("Users/ChangePassword/",r)}static{this.\u0275fac=function(n){return new(n||e)(s.KVO(m.Qq))}}static{this.\u0275prov=s.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var g=a(5794);function h(e,d){1&e&&(s.j41(0,"p",18),s.EFF(1," Please enter a valid Old Password "),s.k0s())}function w(e,d){1&e&&(s.j41(0,"p",18),s.EFF(1," Password must be at least 6 characters "),s.k0s())}function C(e,d){1&e&&(s.j41(0,"p",18),s.EFF(1," New Password and Confirm Password must match "),s.k0s())}function P(e,d){if(1&e&&(s.j41(0,"p",19),s.EFF(1),s.k0s()),2&e){const r=s.XpG();s.R7$(1),s.JRh(r.successMessage)}}function b(e,d){if(1&e&&(s.j41(0,"p",18),s.EFF(1),s.k0s()),2&e){const r=s.XpG();s.R7$(1),s.JRh(r.errorMessage)}}const v=[{path:"",component:(()=>{class e{constructor(r,n,o,i){this._FormBuilder=r,this._ChangePasswordService=n,this._Toastr=o,this._Router=i,this.isHide=!0,this.errorMessage="",this.successMessage="",this.formPassword=new t.gE({oldPassword:new t.MJ(null,[t.k0.required]),newPassword:new t.MJ(null,[t.k0.required,t.k0.minLength(6)]),confirmNewPassword:new t.MJ(null,[t.k0.required,t.k0.minLength(6)])})}ngOnInit(){}onSendData(r){this.formPassword.invalid?this._Toastr.error("Please enter a valid password."):this._ChangePasswordService.changePassword(r.value).subscribe({next:n=>{console.log(n),this._Toastr.success("change password successfully")},error:n=>{console.error("Error response:",n),this._Toastr.error(n.error.message||"Something went wrong.")},complete:()=>{this._Router.navigate(["/auth"])}})}static{this.\u0275fac=function(n){return new(n||e)(s.rXU(t.ok),s.rXU(f),s.rXU(g.tw),s.rXU(c.Ix))}}static{this.\u0275cmp=s.VBU({type:e,selectors:[["app-change"]],decls:36,vars:13,consts:[[1,"container"],[1,"row"],[1,"box","col-md-8"],[1,"form"],[1,"logo","text-center"],["src","../../assets/imags/logo.png","alt",""],[1,"title"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","formControlName","oldPassword","placeholder","Old Password","aria-label","oldPassword","aria-describedby","basic-addon1",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","newPassword","placeholder","New Password","aria-label","newPassword","aria-describedby","basic-addon1",1,"form-control",3,"type"],[1,"input-group-text",3,"click"],["formControlName","confirmNewPassword","placeholder","Confirm New Password","aria-label","confirmNewPassword","aria-describedby","basic-addon1",1,"form-control",3,"type"],[1,"primary-but","w-100",3,"disabled"],["class","text-success",4,"ngIf"],[1,"text-danger"],[1,"text-success"]],template:function(n,o){if(1&n&&(s.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s.nrm(5,"img",5),s.k0s(),s.j41(6,"div",6)(7,"h2"),s.EFF(8,"Change Your Password"),s.k0s(),s.j41(9,"p"),s.EFF(10,"Enter your details below"),s.k0s()(),s.j41(11,"form",7),s.bIt("ngSubmit",function(){return o.onSendData(o.formPassword)}),s.j41(12,"div",8)(13,"span",9),s.nrm(14,"i",10),s.k0s(),s.nrm(15,"input",11),s.k0s(),s.DNE(16,h,2,0,"p",12),s.j41(17,"div",8)(18,"span",9),s.nrm(19,"i",10),s.k0s(),s.nrm(20,"input",13),s.j41(21,"a",14),s.bIt("click",function(){return o.isHide=!o.isHide}),s.nrm(22,"i"),s.k0s()(),s.DNE(23,w,2,0,"p",12),s.j41(24,"div",8)(25,"span",9),s.nrm(26,"i",10),s.k0s(),s.nrm(27,"input",15),s.j41(28,"a",14),s.bIt("click",function(){return o.isHide=!o.isHide}),s.nrm(29,"i"),s.k0s()(),s.DNE(30,C,2,0,"p",12),s.j41(31,"div")(32,"button",16),s.EFF(33," Change Password "),s.k0s()()(),s.DNE(34,P,2,1,"p",17),s.DNE(35,b,2,1,"p",12),s.k0s()()()()),2&n){let i,l;s.R7$(11),s.Y8G("formGroup",o.formPassword),s.R7$(5),s.Y8G("ngIf",(null==(i=o.formPassword.get("oldPassword"))?null:i.invalid)&&(null==(i=o.formPassword.get("oldPassword"))?null:i.touched)),s.R7$(4),s.Y8G("type",o.isHide?"password":"text"),s.R7$(2),s.HbH(o.isHide?"fa fa-eye-slash":"fa fa-eye"),s.R7$(1),s.Y8G("ngIf",(null==(l=o.formPassword.get("newPassword"))?null:l.invalid)&&(null==(l=o.formPassword.get("newPassword"))?null:l.touched)),s.R7$(4),s.Y8G("type",o.isHide?"password":"text"),s.R7$(2),s.HbH(o.isHide?"fa fa-eye-slash":"fa fa-eye"),s.R7$(1),s.Y8G("ngIf",o.formPassword.value.newPassword),s.R7$(2),s.Y8G("disabled",o.formPassword.invalid),s.R7$(2),s.Y8G("ngIf",o.successMessage),s.R7$(1),s.Y8G("ngIf",o.errorMessage)}},dependencies:[u.bT,t.qT,t.me,t.BC,t.cb,t.j4,t.JD],styles:["section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px;box-shadow:0 4px 10px #0000001a}section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px;cursor:pointer}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc}"]})}}return e})()}];let k=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=s.$C({type:e})}static{this.\u0275inj=s.G2t({imports:[c.iI.forChild(v),c.iI]})}}return e})();var y=a(935);let F=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=s.$C({type:e})}static{this.\u0275inj=s.G2t({imports:[u.MD,k,y.G]})}}return e})()}}]);