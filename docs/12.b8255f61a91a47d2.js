"use strict";(self.webpackChunkfood_app=self.webpackChunkfood_app||[]).push([[12],{3012:(V,_,s)=>{s.r(_),s.d(_,{RecipesModule:()=>J});var h=s(177),p=s(7062),O=s(3205),e=s(7705),b=s(9026),P=s(1635),E=s(1626);let d=class m{constructor(a){this._HttpClient=a}onGettingTags(){return this._HttpClient.get("tag/")}onGetCategories(a){return this._HttpClient.get("Category/",{params:a})}static{this.\u0275fac=function(t){return new(t||m)(e.KVO(E.Qq))}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}};d=(0,P.Cg)([(0,e._qm)({providedIn:"root"})],d);var F=s(5794),j=s(5351),k=s(9213),u=s(9115),y=s(8834),r=s(9417),g=s(882),v=s(7250),M=s(6600),R=s(9631);function I(o,a){if(1&o&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function x(o,a){if(1&o&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function G(o,a){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=a.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}const S=function(o){return["viewRecipe",o,!0]},w=function(o){return["editRecipe",o]};function T(o,a){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",27),e.nrm(4,"img",28),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.DNE(12,G,2,1,"ng-container",25),e.k0s(),e.j41(13,"td")(14,"button",29)(15,"mat-icon"),e.EFF(16,"more_vert"),e.k0s()(),e.j41(17,"mat-menu",null,30)(19,"button",31)(20,"mat-icon",32),e.EFF(21,"visibility"),e.k0s(),e.j41(22,"span"),e.EFF(23,"View"),e.k0s()(),e.j41(24,"button",31)(25,"mat-icon",32),e.EFF(26,"edit_square"),e.k0s(),e.j41(27,"span"),e.EFF(28,"Edit"),e.k0s()(),e.j41(29,"button",33),e.bIt("click",function(){const c=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.onDeleteDialog(c))}),e.j41(30,"mat-icon",32),e.EFF(31,"delete"),e.k0s(),e.j41(32,"span"),e.EFF(33,"Delete"),e.k0s()()()()()}if(2&o){const t=a.$implicit,n=e.sdS(18),i=e.XpG();e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("src",i.imageSrc+t.imagePath,e.B4B),e.R7$(2),e.JRh(t.price),e.R7$(2),e.JRh(t.description),e.R7$(2),e.JRh(t.tag.name),e.R7$(2),e.Y8G("ngForOf",t.category),e.R7$(2),e.Y8G("matMenuTriggerFor",n),e.R7$(5),e.Y8G("routerLink",e.eq3(9,S,t.id)),e.R7$(5),e.Y8G("routerLink",e.eq3(11,w,t.id))}}let $=(()=>{class o{constructor(t,n,i,c){this._RecipesService=t,this._HelperService=n,this._ToastrService=i,this.dialog=c,this.tabelParams={pageSize:10,pageNumber:1,name:"",tagId:0},this.recipesList=[],this.imageSrc="https://upskilling-egypt.com:3006/",this.tagList=[],this.categoriesList=[],this.searchName="",this.tagId=0,this.categId=0,this.onGetgRecipesDate(),this.onGetTag(),this.onGetCategories()}ngOnInit(){}onGetgRecipesDate(){this._RecipesService.onGettingRecipes({pageSize:this.tabelParams.pageSize,pageNumber:this.tabelParams.pageNumber,name:this.searchName,tagId:this.tagId,categId:this.categId}).subscribe(n=>{this.recipesList=n.data})}onGetTag(){this._HelperService.onGettingTags().subscribe({next:t=>{this.tagList=t}})}onGetCategories(){this._HelperService.onGetCategories({pageSize:1e3,pageNumber:1}).subscribe(n=>{this.categoriesList=n.data})}onDeleteDialog(t){this.dialog.open(O.c,{data:{name:t.name}}).afterClosed().subscribe(i=>{i&&this.onDeleteRecipe(t.id)})}onDeleteRecipe(t){this._RecipesService.onDeleteRecipe(t).subscribe({next:n=>{this._ToastrService.success("Recipe Deleted Successfully")},error:n=>{this._ToastrService.error(`Recipe ${n.error.message}`," Error")},complete:()=>{this.onGetgRecipesDate()}})}clearFilters(){this.searchName="",this.tagId=0,this.categId=0,this.onGetgRecipesDate()}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(b.F),e.rXU(d),e.rXU(F.tw),e.rXU(j.bZ))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-list-recipes"]],decls:64,vars:6,consts:[[1,"bage-title"],[1,"container"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-8","p-4"],[1,""],[1,"col-md-4"],[1,"text-end"],["src","../../../../../../../assets/imags/eating-avatar.svg","alt",""],[1,"nav","d-flex","align-items-center","justify-content-between"],[1,"one"],[1,"m-0"],[1,"two"],["routerLink","addRecipe",1,"primary-but"],[1,"search-container"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search here ...","name","search",3,"ngModel","ngModelChange","keydown.enter"],["appearance","outline",1,"tag-select"],["name","tag",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","category",3,"ngModel","ngModelChange","selectionChange"],["type","button",1,"clear-btn",3,"click"],[1,"fa-solid","fa-xmark"],[1,"w-100","table","table-striped"],[1,"table-secondary"],[4,"ngFor","ngForOf"],[3,"value"],[1,"w-25"],["alt","",1,"w-50",3,"src"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"routerLink"],[2,"color","#4aa35a"],["mat-menu-item","",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1"),e.EFF(7,"Recipes "),e.j41(8,"span"),e.EFF(9,"Item"),e.k0s()(),e.j41(10,"p"),e.EFF(11," You can now add your items that any user can order it "),e.nrm(12,"br"),e.EFF(13," from the Application and you can edit "),e.k0s()()(),e.j41(14,"div",5)(15,"div",6),e.nrm(16,"img",7),e.k0s()()()()(),e.j41(17,"div")(18,"div",8)(19,"div",9)(20,"h4",10),e.EFF(21,"Recipes Table Details"),e.k0s(),e.j41(22,"p",10),e.EFF(23,"You can check all details"),e.k0s()(),e.j41(24,"div",11)(25,"button",12),e.EFF(26,"Add New Recipes"),e.k0s()()(),e.j41(27,"div",13)(28,"mat-form-field",14)(29,"mat-label"),e.EFF(30,"Search By Recipe"),e.k0s(),e.j41(31,"mat-icon",15),e.EFF(32,"search"),e.k0s(),e.j41(33,"input",16),e.bIt("ngModelChange",function(l){return i.searchName=l})("keydown.enter",function(){return i.onGetgRecipesDate()}),e.k0s()(),e.j41(34,"mat-form-field",17)(35,"mat-label"),e.EFF(36,"Tag"),e.k0s(),e.j41(37,"mat-select",18),e.bIt("ngModelChange",function(l){return i.tagId=l})("selectionChange",function(){return i.onGetgRecipesDate()}),e.DNE(38,I,2,2,"mat-option",19),e.k0s()(),e.j41(39,"mat-form-field",17)(40,"mat-label"),e.EFF(41,"Categorey"),e.k0s(),e.j41(42,"mat-select",20),e.bIt("ngModelChange",function(l){return i.categId=l})("selectionChange",function(){return i.onGetgRecipesDate()}),e.DNE(43,x,2,2,"mat-option",19),e.k0s()(),e.j41(44,"button",21),e.bIt("click",function(){return i.clearFilters()}),e.nrm(45,"i",22),e.k0s()(),e.j41(46,"table",23)(47,"thead",24)(48,"tr")(49,"th"),e.EFF(50,"Item Name"),e.k0s(),e.j41(51,"th"),e.EFF(52,"Image"),e.k0s(),e.j41(53,"th"),e.EFF(54,"Price"),e.k0s(),e.j41(55,"th"),e.EFF(56,"Description"),e.k0s(),e.j41(57,"th"),e.EFF(58,"tag"),e.k0s(),e.j41(59,"th"),e.EFF(60,"Category"),e.k0s(),e.nrm(61,"th"),e.k0s()(),e.j41(62,"tbody"),e.DNE(63,T,34,13,"tr",25),e.k0s()()()()),2&n&&(e.R7$(33),e.Y8G("ngModel",i.searchName),e.R7$(4),e.Y8G("ngModel",i.tagId),e.R7$(1),e.Y8G("ngForOf",i.tagList),e.R7$(4),e.Y8G("ngModel",i.categId),e.R7$(1),e.Y8G("ngForOf",i.categoriesList),e.R7$(20),e.Y8G("ngForOf",i.recipesList))},dependencies:[h.Sq,p.Wk,k.An,u.kk,u.fb,u.Cp,y.iY,r.me,r.BC,r.vS,g.rl,g.nJ,g.JW,v.VO,M.wT,R.fg],styles:["section[_ngcontent-%COMP%]   .bage-title[_ngcontent-%COMP%]{background-image:url(header-bg-svg.e7cd2c7a9e952177.svg);background-repeat:no-repeat;background-color:#009247;border-radius:15px;color:#fff}section[_ngcontent-%COMP%]   .bage-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;font-weight:200;color:#ffffffae}section[_ngcontent-%COMP%]   .bage-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffde}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin:.5rem 0}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#222d}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#acacac}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:8px;padding:.5rem 1rem}section[_ngcontent-%COMP%]   button.primary-but[_ngcontent-%COMP%]{background-color:#4aa35a;color:#fff;text-align:center}section[_ngcontent-%COMP%]   button.primary-but[_ngcontent-%COMP%]:hover{opacity:.7}section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;border-radius:15px;overflow:hidden}section[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px;border-style:none}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f8f8f8;padding:8px;margin-bottom:15px;border-radius:30px;width:100%;box-shadow:0 2px 5px #0000001a}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;background:white;border-radius:30px;height:60px}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{height:60px!important;border-radius:30px!important}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{min-width:60%}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .tag-select[_ngcontent-%COMP%]{width:120px}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;width:35px;height:35px;border-radius:50%;color:#b60505;transition:.3s ease}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:rgba(248,110,110,.1)}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#888}section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:gray;font-size:18px}"]})}}return o})();var f=s(4671);function D(o,a){if(1&o&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function L(o,a){if(1&o&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function N(o,a){if(1&o){const t=e.RV6();e.j41(0,"ngx-dropzone-image-preview",27),e.bIt("removed",function(){const c=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.onRemove(c))}),e.k0s()}2&o&&e.Y8G("file",a.$implicit)("removable",!0)}let C=(()=>{class o{constructor(t,n,i,c,l){this._HelperService=t,this._RecipeService=n,this._Toastr=i,this._Router=c,this._ActivatedRoute=l,this.tagList=[],this.categoriesList=[],this.files=[],this.isEditMode=!1,this.recipeForm=new r.gE({name:new r.MJ(null),description:new r.MJ(null),price:new r.MJ(null),tagId:new r.MJ(null),categoriesIds:new r.MJ(null),recipeImage:new r.MJ(null)}),this.recipeId=Number(this._ActivatedRoute.snapshot.paramMap.get("id")),this.isViewMode=this._ActivatedRoute.snapshot.paramMap.get("formDisabled"),this.onGetTag(),this.onGetCategories()}ngOnInit(){this.recipeId&&(this.isEditMode=!0,this.onGetRecipeById(this.recipeId)),this.isViewMode&&this.recipeForm.disable()}onSubmit(t){let n=new FormData;Object.keys(t).forEach(i=>{"recipeImage"!==i&&n.append(i,t[i])}),this.files.length>0&&this.files.forEach(i=>{n.append("recipeImage",i)}),this.recipeId||this.isEditMode?this.onEditRecipe(n):this.onAddRecipe(n)}onAddRecipe(t){this._RecipeService.onAddRecipe(t).subscribe({next:n=>{this._Toastr.success("Recipe Added Successfully","Success")},error:n=>{console.log(n),this._Toastr.error(n.error.message,"Error")},complete:()=>{this._Router.navigate(["/dashboard/admin/recipes"])}})}onEditRecipe(t){this._RecipeService.onUpdateRecipe(this.recipeId,t).subscribe({next:n=>{this._Toastr.success("Recipe Added Successfully","Success")},error:n=>{console.log(n),this._Toastr.error(n.error.message,"Error")},complete:()=>{this._Router.navigate(["/dashboard/admin/recipes"])}})}onGetTag(){this._HelperService.onGettingTags().subscribe({next:t=>{this.tagList=t}})}onGetCategories(){this._HelperService.onGetCategories({pageSize:1e3,pageNumber:1}).subscribe(n=>{this.categoriesList=n.data})}onGetRecipeById(t){this._RecipeService.onGetRecipeById(t).subscribe(n=>{this.recipeForm.patchValue({name:n.name,description:n.description,price:n.price,tagId:n.tag?n.tag.id:null,categoriesIds:n.category.map(i=>i.id)})})}onSelect(t){console.log(t),this.files.push(...t.addedFiles)}onRemove(t){console.log(t),this.files.splice(this.files.indexOf(t),1)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(d),e.rXU(b.F),e.rXU(F.tw),e.rXU(p.Ix),e.rXU(p.nX))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-add-edit"]],decls:51,vars:5,consts:[[1,"nav","d-flex","align-items-center","justify-content-between"],[1,"one"],[1,"m-0"],[1,"two"],[1,"primary-but"],[1,"fa-solid","fa-arrow-right-long","ms-2"],[1,"container","p-4"],[1,"row"],[1,"col-9","mx-auto"],[3,"formGroup","ngSubmit"],[1,"example-full-width","w-100"],["matInput","","placeholder","Enter Recipe Name","formControlName","name"],[1,"example-full-width","me-5"],["formControlName","categoriesIds","name","category"],[3,"value",4,"ngFor","ngForOf"],[1,"example-full-width"],["formControlName","tagId","name","tag"],["matInput","","type","number","placeholder","0","formControlName","price",1,"example-right-align"],["matTextSuffix",""],[1,"fa-solid","fa-star-of-life","text-danger",2,"font-size","7px"],["matInput","","formControlName","description"],[3,"change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-4"],["routerLink","../",1,"btn","btn-outline-success","border","border-success","me-3"],["type","submit",1,"btn","btn-success"],[3,"value"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"]],template:function(n,i){1&n&&(e.j41(0,"section")(1,"div",0)(2,"div",1)(3,"h4",2),e.EFF(4),e.k0s(),e.j41(5,"p",2),e.EFF(6,"you can now fill the meals easily using the table and form ,"),e.nrm(7,"br"),e.EFF(8," click here and sill it with the table !"),e.k0s()(),e.j41(9,"div",3)(10,"button",4),e.EFF(11,"All Recipes "),e.nrm(12,"i",5),e.k0s()()(),e.j41(13,"div",6)(14,"div",7)(15,"div",8)(16,"form",9),e.bIt("ngSubmit",function(){return i.onSubmit(i.recipeForm.value)}),e.j41(17,"mat-form-field",10)(18,"mat-label"),e.EFF(19,"Recipe Name"),e.k0s(),e.nrm(20,"input",11),e.k0s(),e.j41(21,"mat-form-field",12)(22,"mat-label"),e.EFF(23,"Categorey"),e.k0s(),e.j41(24,"mat-select",13),e.DNE(25,D,2,2,"mat-option",14),e.k0s()(),e.j41(26,"mat-form-field",15)(27,"mat-label"),e.EFF(28,"Tag"),e.k0s(),e.j41(29,"mat-select",16),e.DNE(30,L,2,2,"mat-option",14),e.k0s()(),e.j41(31,"mat-form-field",10)(32,"mat-label"),e.EFF(33,"Amount"),e.k0s(),e.nrm(34,"input",17),e.j41(35,"span",18),e.EFF(36,"EGP"),e.k0s()(),e.j41(37,"mat-form-field",10)(38,"mat-label"),e.EFF(39,"Description "),e.nrm(40,"i",19),e.k0s(),e.nrm(41,"textarea",20),e.k0s(),e.j41(42,"ngx-dropzone",21),e.bIt("change",function(l){return i.onSelect(l)}),e.j41(43,"ngx-dropzone-label"),e.EFF(44,"Drop Photo!"),e.k0s(),e.DNE(45,N,1,2,"ngx-dropzone-image-preview",22),e.k0s(),e.j41(46,"div",23)(47,"button",24),e.EFF(48," Cancel "),e.k0s(),e.j41(49,"button",25),e.EFF(50," Save "),e.k0s()()()()()()()),2&n&&(e.R7$(4),e.SpI(" ",i.isEditMode?"Edit Recipes !":"Add New Recipes !"," "),e.R7$(12),e.Y8G("formGroup",i.recipeForm),e.R7$(9),e.Y8G("ngForOf",i.categoriesList),e.R7$(5),e.Y8G("ngForOf",i.tagList),e.R7$(15),e.Y8G("ngForOf",i.files))},dependencies:[h.Sq,p.Wk,r.qT,r.me,r.Q0,r.BC,r.cb,r.j4,r.JD,g.rl,g.nJ,g.yw,v.VO,M.wT,R.fg,f.s3,f.Gt,f.bB],styles:["section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{background-color:#f0ffef;padding:20px;border-radius:15px;margin:.5rem 0}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#222d}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#009247}section[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#acacac}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:8px;padding:.5rem 1rem}section[_ngcontent-%COMP%]   button.primary-but[_ngcontent-%COMP%]{background-color:#4aa35a;color:#fff;text-align:center}section[_ngcontent-%COMP%]   button.primary-but[_ngcontent-%COMP%]:hover{opacity:.7}"]})}}return o})();const A=[{path:"",component:$},{path:"addRecipe",component:C},{path:"editRecipe/:id",component:C},{path:"viewRecipe/:id/:formDisabled",component:C}];let Y=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(A),p.iI]})}}return o})();var z=s(935);let J=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[h.MD,Y,z.G]})}}return o})()}}]);